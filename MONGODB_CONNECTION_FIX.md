# โ MongoDB Connection Timeout - ุงูุญู

## ๐ ุงููุดููุฉ:
```
MongooseError: Operation `requests.insertOne()` buffering timed out after 10000ms
```

ูุฐุง ูุนูู ุฃู ุงูุณูุฑูุฑ ูุง ูุณุชุทูุน ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช MongoDB.

---

## โ ุงูุญููู ุงููุญุชููุฉ:

### **1. ุชุญูู ูู MONGODB_URI ูู .env**

ุงูุชุญ ููู `.env` ูุชุฃูุฏ ูู ูุฌูุฏ:
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority
```

**ุชุฃูุฏ ูู:**
- โ ุงุณู ุงููุณุชุฎุฏู ุตุญูุญ
- โ ูููุฉ ุงููุฑูุฑ ุตุญูุญุฉ (ุจุฏูู ุฑููุฒ ุฎุงุตุฉ ุฃู ูุน escape)
- โ ุงุณู ุงูู cluster ุตุญูุญ
- โ ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏ

---

### **2. ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช**

- โ ุชุฃูุฏ ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช
- โ ุฌุฑุจ ูุชุญ ูููุน MongoDB Atlas ูู ุงููุชุตูุญ

---

### **3. MongoDB Atlas IP Whitelist**

ูู MongoDB Atlas:

1. ุงุฐูุจ ุฅูู **Network Access**
2. ุชุฃูุฏ ูู ุฅุถุงูุฉ IP ุงูุฎุงุต ุจู
3. ุฃู ุฃุถู `0.0.0.0/0` ููุณูุงุญ ูุฌููุน IPs (ููุชุทููุฑ ููุท)

**ุงูุฎุทูุงุช:**
```
MongoDB Atlas Dashboard
โ Network Access
โ Add IP Address
โ Allow Access from Anywhere (0.0.0.0/0)
โ Confirm
```

---

### **4. ุชุญูู ูู ูููุฉ ุงููุฑูุฑ**

ุฅุฐุง ูุงูุช ูููุฉ ุงููุฑูุฑ ุชุญุชูู ุนูู ุฑููุฒ ุฎุงุตุฉ ูุซู `@`, `#`, `$`:

**ูุจู:**
```
mongodb+srv://user:p@ssw0rd@cluster.mongodb.net/db
```

**ุจุนุฏ (URL Encode):**
```
mongodb+srv://user:p%40ssw0rd@cluster.mongodb.net/db
```

**ุฑููุฒ ุดุงุฆุนุฉ:**
- `@` โ `%40`
- `#` โ `%23`
- `$` โ `%24`
- `%` โ `%25`

---

### **5. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู**

ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ ูุฑุงูุจ ุงูุฑุณุงุฆู:

```bash
npm run dev
```

**ุฅุฐุง ูุฌุญ:**
```
โ MongoDB Connected: cluster0-shard-00-01.mongodb.net
Server running in development mode on port 5000
```

**ุฅุฐุง ูุดู:**
```
โ MongoDB Connection Error: ...
๐ก Please check:
   1. MONGODB_URI in .env file
   2. Internet connection
   3. MongoDB Atlas IP whitelist
```

---

## ๐ง ุฎุทูุงุช ุณุฑูุนุฉ:

### **ุงูุฎุทูุฉ 1: ุชุญูู ูู .env**
```bash
# ุงูุชุญ .env ูุชุฃูุฏ ูู MONGODB_URI
```

### **ุงูุฎุทูุฉ 2: MongoDB Atlas**
```
1. ุงูุชุญ MongoDB Atlas
2. ุงุฐูุจ ุฅูู Network Access
3. ุฃุถู 0.0.0.0/0
```

### **ุงูุฎุทูุฉ 3: ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ**
```bash
npm run dev
```

---

## ๐ก ูุตุงุฆุญ:

### **ููุชุทููุฑ:**
- ุงุณุชุฎุฏู `0.0.0.0/0` ูู IP Whitelist
- ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช ุงูุงุชุตุงู

### **ููุฅูุชุงุฌ:**
- ุงุณุชุฎุฏู IP ูุญุฏุฏ
- ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ
- ูุนูู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:

1. โ ุชุฃูุฏ ูู ุฃู MongoDB Atlas cluster ูุนูู
2. โ ุฌุฑุจ ุฅูุดุงุก user ุฌุฏูุฏ ูู MongoDB
3. โ ุฌุฑุจ ุฅูุดุงุก cluster ุฌุฏูุฏ
4. โ ุชุญูู ูู firewall ุนูู ุฌูุงุฒู

---

**ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ ุจุนุฏ ุงูุชุนุฏููุงุช!** ๐
